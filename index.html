<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ano Pessoal</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<!-- <body class="vh-100" style="background-image: url('assets/image/background/fundo.png'); background-size: cover;"> -->

<body class="vh-100 bg-body-tertiary">
    <!-- <div class="position-absolute top-0 left-0 w-100 h-100 bg-white" style="backdrop-filter: blur(10px); opacity: 0.9;"></div> -->
    <main class="container h-100">
        <div class="bg-white my-3 rounded" style="max-width: 500px; box-shadow: 0 20px 27px 0 rgba(0,0,0,.05);">


            <img class="img-fluid rounded-top" src="assets/image/figure/mulher.png" alt="" srcset="">

            <div class="position-relative overflow-hidden" style="height:50px;margin-top:-50px;">
                <div class="position-absolute w-100 top-0 z-index-1">
                    <svg class="waves waves-sm" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 40" preserveAspectRatio="none"
                        shape-rendering="auto">
                        <defs>
                            <path id="card-wave"
                                d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
                        </defs>
                        <g class="moving-waves">
                            <use xlink:href="#card-wave" x="48" y="-1" fill="rgba(255,255,255,0.30"></use>
                            <use xlink:href="#card-wave" x="48" y="3" fill="rgba(255,255,255,0.35)"></use>
                            <use xlink:href="#card-wave" x="48" y="5" fill="rgba(255,255,255,0.25)"></use>
                            <use xlink:href="#card-wave" x="48" y="8" fill="rgba(255,255,255,0.20)"></use>
                            <use xlink:href="#card-wave" x="48" y="13" fill="rgba(255,255,255,0.15)"></use>
                            <use xlink:href="#card-wave" x="48" y="16" fill="rgba(255,255,255,0.99)"></use>
                        </g>
                    </svg>
                </div>
            </div>
            <div class="px-3 pb-3">
                <h2 class="py-2">Descubra seu ano Pessoal</h2>

                <h6 class="">Selecione sua data de nascimento: </h6>
                <div>
                    <form class="row g-3 needs-validation " novalidate="">
                        <div class="col-md-4">
                            <!-- <label for="validationCustom04" class="form-label">State</label> -->
                            <select class="form-select" id="validationDay" required>
                                <option selected disabled value="">Dia</option>
                            </select>
                            <div class="invalid-feedback">
                                Please select a valid state.
                            </div>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4">
                            <!-- <label for="validationCustom04" class="form-label">State</label> -->
                            <select class="form-select" id="validationMonday" required="">
                                <option selected disabled value="">Mês</option>
                            </select>
                            <div class="invalid-feedback">
                                Please select a valid state.
                            </div>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4">
                            <!-- <label for="validationCustom04" class="form-label">State</label> -->
                            <select class="form-select" id="validationYear" required="">
                                <option selected disabled value="">Ano</option>
                            </select>
                            <div class="invalid-feedback">
                                Please select a valid state.
                            </div>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-12 col-md-3 mx-md-auto">
                            <button class="btn btn-primary w-100" style="background-color: var(--bs-indigo);"
                                type="submit">DESCOBRIR</button>
                        </div>
                    </form>
                </div>
            </div>

        </div>
        <!-- Modal -->
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-4" id="staticBackdropLabel">Seu ano pessoal é o <span
                                id="personalYearResult">0</span></h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="accordion accordion-flush" id="accordionFlushExample">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed fs-4" type="button"
                                        data-bs-toggle="collapse" data-bs-target="#flush-collapseOne"
                                        aria-expanded="false" aria-controls="flush-collapseOne">
                                        O que representa na sua vida
                                    </button>
                                </h2>
                                <div id="flush-collapseOne" class="accordion-collapse collapse"
                                    data-bs-parent="#accordionFlushExample">
                                    <div id="personalYearDescription" class="accordion-body"></div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed fs-4" type="button"
                                        data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo"
                                        aria-expanded="false" aria-controls="flush-collapseTwo">
                                        <i class="bi bi-arrow-through-heart-fill me-3"></i> Ano pessoal no Amor
                                    </button>
                                </h2>
                                <div id="flush-collapseTwo" class="accordion-collapse collapse"
                                    data-bs-parent="#accordionFlushExample">
                                    <div id="personalLoveDescription" class="accordion-body"></div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed fs-4" type="button"
                                        data-bs-toggle="collapse" data-bs-target="#flush-collapseThree"
                                        aria-expanded="false" aria-controls="flush-collapseThree">
                                        <i class="bi bi-person-workspace me-3"></i>Ano pessoal no Trabalho
                                    </button>
                                </h2>
                                <div id="flush-collapseThree" class="accordion-collapse collapse"
                                    data-bs-parent="#accordionFlushExample">
                                    <div id="personalWorkDescription" class="accordion-body"></div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed fs-4" type="button"
                                        data-bs-toggle="collapse" data-bs-target="#flush-collapseFour"
                                        aria-expanded="false" aria-controls="flush-collapseFour">
                                        <i class="bi bi-heart-pulse-fill me-3"></i>Ano pessoal na Saúde
                                    </button>
                                </h2>
                                <div id="flush-collapseFour" class="accordion-collapse collapse"
                                    data-bs-parent="#accordionFlushExample">
                                    <div id="personalHealthDescription" class="accordion-body"></div>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <h4 class="mb-3" style="color: var(--bs-indigo);">Descubra Seu Caminho em 2024: </h4>
                        <h5>Obtenha Seu Mapa Solar Exclusivo!</h5>
                        <p>O Mapa Solar é um guia personalizado que analisa as energias e tendências para o seu ano,
                            baseado na sua data de nascimento e localização. Com orientações precisas, ele oferece
                            insights para direcionar suas escolhas e ajudar a atingir suas metas ao longo do ano,
                            proporcionando uma visão clara das oportunidades e desafios que podem surgir.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                        <a
                            href="https://api.whatsapp.com/send?phone=5511985210549&text=Olá!%20Gostaria%20de%20saber%20mais%20sobre%20Mapa%20solar...">
                            <button type="button" class="btn btn-success">
                                <i class="bi bi-whatsapp"></i>
                                FAÇA SEU MAPA!</button>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>




    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>
    <script>
        //Example starter JavaScript for disabling form submissions if there are invalid fields
        (() => {
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            const forms = document.querySelectorAll('.needs-validation')

            // Loop over them and prevent submission
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }

                    form.classList.add('was-validated')
                }, false)
            })
        })()
    </script>


    <script src="assets/js/description.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Geração dos dias
            const daySelect = document.getElementById('validationDay');
            for (let i = 1; i <= 30; i++) {
                daySelect.options[daySelect.options.length] = new Option(i < 10 ? '0' + i : i, i);
            }

            // Geração dos meses
            const monthSelect = document.getElementById('validationMonday');
            const months = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto",
                "Setembro", "Outubro", "Novembro", "Dezembro"
            ];
            months.forEach((month, index) => {
                monthSelect.options[monthSelect.options.length] = new Option(month, index + 1);
            });

            // Geração dos anos
            const yearSelect = document.getElementById('validationYear');
            const currentYear = new Date().getFullYear();
            for (let year = currentYear; year >= currentYear - 120; year--) {
                yearSelect.options[yearSelect.options.length] = new Option(year, year);
            }

            const form = document.querySelector('.needs-validation');
            form.addEventListener('submit', function (event) {
                event.preventDefault();
                event.stopPropagation();
                if (form.checkValidity()) {
                    const day = parseInt(document.getElementById('validationDay').value);
                    const month = parseInt(document.getElementById('validationMonday').value);
                    const year = parseInt(document.getElementById('validationYear').value);
                    const personalYear = calculatePersonalYear(day, month, year);
                    document.getElementById('personalYearResult').textContent = personalYear;
                    document.getElementById('personalYearDescription').textContent =
                        getPersonalYearDescription(personalYear);
                    document.getElementById('personalLoveDescription').textContent =
                        getPersonalLoveDescription(personalYear);
                    document.getElementById('personalWorkDescription').textContent =
                        getPersonalWorkDescription(personalYear);
                    document.getElementById('personalHealthDescription').textContent =
                        getPersonalHealthDescription(personalYear);
                    new bootstrap.Modal(document.getElementById('staticBackdrop')).show();
                }
                form.classList.add('was-validated');
            });

            // function calculatePersonalYear(day, month, year) {
            //     // Cálculo do ano pessoal (ajuste conforme necessário)
            //     const sum = day + month + (year % 100);
            //     return sum % 9 || 9;
            // }

            function calculatePersonalYear(day, month, year) {
                // Obter o aniversário da pessoa
                const birthday = new Date(year, month, day);
                const dataAtual = new Date();


                // Extrair dia, mês e ano do aniversário
                const birthdayDay = birthday.getDate();
                const birthdayMonth = birthday.getMonth();
                const birthdayYear = dataAtual.getFullYear();
<<<<<<< HEAD
                
=======

>>>>>>> 89cfa53eca53dd57c39ed3578a9d6b31779d5824

                console.log(birthdayDay);
                console.log(birthdayMonth);
                console.log(birthdayYear);

                // Calcular a soma dos dígitos do aniversário
                const sum = Math.floor(birthdayDay / 10) + (birthdayDay % 10) +
                    Math.floor(birthdayMonth / 10) + (birthdayMonth % 10) +
                    Math.floor(birthdayYear / 1000) + Math.floor((birthdayYear % 1000) / 100) +
                    Math.floor((birthdayYear % 100) / 10) + (birthdayYear % 10);

<<<<<<< HEAD
                    console.log(sum);
=======
                console.log(sum);
>>>>>>> 89cfa53eca53dd57c39ed3578a9d6b31779d5824

                // Reduzir a soma para um dígito único
                let personalYear = sum;
                while (personalYear > 9) {
                    personalYear = Math.floor(personalYear / 10) + (personalYear % 10);
                }

                return personalYear;
            }

            function getPersonalYearDescription(year) {
                const descriptions = {
                    1: descriptionYear1,
                    2: descriptionYear2,
                    3: descriptionYear3,
                    4: descriptionYear4,
                    5: descriptionYear5,
                    6: descriptionYear6,
                    7: descriptionYear7,
                    8: descriptionYear8,
                    9: descriptionYear9,
                };
                return descriptions[year] || "Descrição não disponível para este ano.";
            }
            function getPersonalLoveDescription(year) {
                const descriptions = {
                    1: descriptionLove1,
                    2: descriptionLove2,
                    3: descriptionLove3,
                    4: descriptionLove4,
                    5: descriptionLove5,
                    6: descriptionLove6,
                    7: descriptionLove7,
                    8: descriptionLove8,
                    9: descriptionLove9,
                };
                return descriptions[year] || "Descrição não disponível para este ano.";
            }
            function getPersonalWorkDescription(year) {
                const descriptions = {
                    1: descriptionWork1,
                    2: descriptionWork2,
                    3: descriptionWork3,
                    4: descriptionWork4,
                    5: descriptionWork5,
                    6: descriptionWork6,
                    7: descriptionWork7,
                    8: descriptionWork8,
                    9: descriptionWork9,
                };
                return descriptions[year] || "Descrição não disponível para este ano.";
            }
            function getPersonalHealthDescription(year) {
                const descriptions = {
                    1: descriptionHealth1,
                    2: descriptionHealth2,
                    3: descriptionHealth3,
                    4: descriptionHealth4,
                    5: descriptionHealth5,
                    6: descriptionHealth6,
                    7: descriptionHealth7,
                    8: descriptionHealth8,
                    9: descriptionHealth9,
                };
                return descriptions[year] || "Descrição não disponível para este ano.";
            }
        });
    </script>



</body>

</html>